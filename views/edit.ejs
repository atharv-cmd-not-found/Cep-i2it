<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Edit Post</title>
  <link rel="stylesheet" href="/edit.css">
</head>
<body>
  <div class="edit-container">
    <h1>Edit Post</h1>

    <form method="POST" action="/posts/<%= post.id %>?_method=PATCH">
      
      <!-- NEW: Item Name Input Field -->
      <label for="itemName" class="textarea">Item Name:
      <input 
        type="text" 
        name="itemName" 
        id="itemName" 
        value="<%= post.itemName %>" 
        placeholder="e.g., Veg Biryani, Coffee" 
        required
      />
      </label>
      
      <!-- Existing Content Textarea -->
      <textarea name="content"><%= post.content %></textarea>
      
      <!-- FIX: Add Rating Input (Star Radio Buttons) -->
      <div class="rating-edit">
        <p>Current Rating: <%= post.rating %></p>
        <div class="stars-input">
          <% for(let i=5; i>=1; i--){ %>
            <input 
              type="radio" 
              id="star-<%= i %>" 
              name="rating" 
              value="<%= i %>" 
              <%= (post.rating == i) ? 'checked' : '' %> 
              required
            />
            <label for="star-<%= i %>">★</label>
          <% } %>
        </div>
      </div>
      <!-- END FIX -->

      <div class="form-actions">
        <button type="submit"> Save Changes</button>
        <a href="/posts/<%= post.id %>" class="cancel-btn">✖ Cancel</a>
      </div>
    </form>
  </div>
</body>
</html>
